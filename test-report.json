{
  "timestamp": "2025-10-07T14:38:40.915Z",
  "summary": {
    "total": 5,
    "passed": 4,
    "failed": 1,
    "skipped": 0,
    "duration": 261
  },
  "results": [
    {
      "name": "ResourceManager Unit Tests",
      "status": "PASSED",
      "duration": 38,
      "critical": true,
      "output": "=== ResourceManager Unit Tests ===\n\nRunning: ResourceManager initialization\n✓ PASSED: ResourceManager initialization\n\nRunning: Resource definitions validation\n✓ PASSED: Resource definitions validation\n\nRunning: Biome resource configurations validation\n✓ PASSED: Biome resource configurations validation\n\nRunning: Resource glyph system validation\n✓ PASSED: Resource glyph system validation\n\nRunning: Location state management\n✓ PASSED: Location state management\n\nRunning: Depletion detection\n✓ PASSED: Depletion detection\n\nRunning: Regeneration calculations\n✓ PASSED: Regeneration calculations\n\nRunning: Success rate calculations\n✓ PASSED: Success rate calculations\n\nRunning: Resource selection logic\n✓ PASSED: Resource selection logic\n\nRunning: Quantity calculations\n✓ PASSED: Quantity calculations\n\nRunning: Serialization and deserialization\nResourceManager: Restored 2 location states\n✓ PASSED: Serialization and deserialization\n\nRunning: Cleanup system\nResourceManager: Cleaned up 5 old location states\n✓ PASSED: Cleanup system\n\nRunning: Performance metrics\n✓ PASSED: Performance metrics\n\nRunning: Invalid inputs and edge cases\n✓ PASSED: Invalid inputs and edge cases\n\n=== Test Results ===\nTests passed: 14/14\nSuccess rate: 100.0%\n✓ All ResourceManager unit tests passed!\n"
    },
    {
      "name": "PlayerInventory Unit Tests",
      "status": "PASSED",
      "duration": 45,
      "critical": true,
      "output": "=== PlayerInventory Unit Tests ===\n\nRunning: Inventory initialization\n✓ PASSED: Inventory initialization\n\nRunning: Adding resources\n✓ PASSED: Adding resources\n\nRunning: Removing resources\n✓ PASSED: Removing resources\n\nRunning: Capacity management\n✓ PASSED: Capacity management\n\nRunning: Inventory queries and display\n✓ PASSED: Inventory queries and display\n\nRunning: Serialization and deserialization\n✓ PASSED: Serialization and deserialization\n\nRunning: Inventory validation\n✓ PASSED: Inventory validation\n\nRunning: Edge cases and error conditions\n✓ PASSED: Edge cases and error conditions\n\nRunning: Performance with large inventories\n  Performance test completed in 1ms\n✓ PASSED: Performance with large inventories\n\nRunning: Concurrent operations simulation\n  Executed 150 operations, 150 successful\n✓ PASSED: Concurrent operations simulation\n\n=== Test Results ===\nTests passed: 10/10\nSuccess rate: 100.0%\n✓ All PlayerInventory unit tests passed!\n"
    },
    {
      "name": "Gathering Integration Tests",
      "status": "PASSED",
      "duration": 42,
      "critical": true,
      "output": "=== Resource Gathering Integration Tests ===\n\nRunning: Complete gathering workflow\n  Forest gather: Gathered 1 Wood!\n  Desert gather: Gathered 1 Stone!\n  Ocean gather: Nothing to gather here\n  Total items gathered: 2\n✓ PASSED: Complete gathering workflow\n\nRunning: Biome-specific resource gathering\n  Testing forest at (0, 0): actual biome forest\n    Gathered resources: wood, berries\n  Testing desert at (1, 0): actual biome desert\n    Gathered resources: stone, sand\n  Testing mountain at (2, 0): actual biome mountain\n    Gathered resources: ore, stone\n  Testing beach at (0, 1): actual biome beach\n    Gathered resources: wood, sand\n  Testing jungle at (1, 1): actual biome jungle\n    Gathered resources: berries, wood\n  Testing savanna at (2, 1): actual biome savanna\n    Gathered resources: wood, hay\n  Testing taiga at (0, 2): actual biome taiga\n    Gathered resources: wood, berries\n  Testing tropical at (1, 2): actual biome tropical\n    Gathered resources: wood, berries\n  Testing swamp at (2, 2): actual biome swamp\n    Gathered resources: reeds, berries\n✓ PASSED: Biome-specific resource gathering\n\nRunning: Depletion and regeneration workflow\n  Testing depletion through repeated gathering...\n    Attempt 1: Failed - You search around but find nothing useful.\n    Attempt 2: Success - Gathered 2 Wood!\n    Attempt 3: Failed - You search around but find nothing useful.\n    Attempt 4: Success - Gathered 2 Wood!\n    Attempt 5: Failed - You search around but find nothing useful.\n    Attempt 6: Success - Gathered 1 Wood!\n    Attempt 7: Failed - You search around but find nothing useful.\n    Attempt 8: Failed - You search around but find nothing useful.\n    Attempt 9: Failed - You search around but find nothing useful.\n    Attempt 10: Success - Gathered 1 Berries!\n    Attempt 11: Failed - You search around but find nothing useful.\n    Attempt 12: Success - Gathered 1 Berries!\n    Attempt 13: Failed - You search around but find nothing useful.\n    Attempt 14: Failed - You search around but find nothing useful.\n    Attempt 15: Failed - You search around but find nothing useful.\n    Attempt 16: Failed - You search around but find nothing useful.\n    Attempt 17: Success - Gathered 1 Wood!\n    Attempt 18: Success - Gathered 1 Wood!\n    Attempt 19: Failed - You search around but find nothing useful.\n    Attempt 20: Failed - You search around but find nothing useful.\n    Attempt 21: Success - Gathered 1 Berries!\n    Attempt 22: Failed - You search around but find nothing useful.\n    Attempt 23: Failed - You search around but find nothing useful.\n    Attempt 24: Failed - You search around but find nothing useful.\n    Attempt 25: Failed - You search around but find nothing useful.\n    Attempt 26: Failed - You search around but find nothing useful.\n    Attempt 27: Failed - You search around but find nothing useful.\n    Attempt 28: Failed - You search around but find nothing useful.\n    Attempt 29: Failed - You search around but find nothing useful.\n    Attempt 30: Failed - You search around but find nothing useful.\n    Attempt 31: Failed - You search around but find nothing useful.\n    Attempt 32: Failed - You search around but find nothing useful.\n    Attempt 33: Failed - You search around but find nothing useful.\n    Attempt 34: Failed - You search around but find nothing useful.\n    Attempt 35: Failed - You search around but find nothing useful.\n    Attempt 36: Failed - You search around but find nothing useful.\n    Attempt 37: Failed - You search around but find nothing useful.\n    Attempt 38: Failed - You search around but find nothing useful.\n    Attempt 39: Failed - You search around but find nothing useful.\n    Attempt 40: Failed - You search around but find nothing useful.\n    Attempt 41: Failed - You search around but find nothing useful.\n    Attempt 42: Failed - You search around but find nothing useful.\n    Attempt 43: Failed - You search around but find nothing useful.\n    Attempt 44: Failed - You search around but find nothing useful.\n    Attempt 45: Failed - You search around but find nothing useful.\n    Attempt 46: Failed - You search around but find nothing useful.\n    Attempt 47: Failed - You search around but find nothing useful.\n    Attempt 48: Failed - You search around but find nothing useful.\n    Attempt 49: Failed - You search around but find nothing useful.\n    Attempt 50: Failed - You search around but find nothing useful.\n  Successful gathers: 8/50\n  Final depletion level: 80.0%\n  Total gathers recorded: 50\n  Current depletion (with regen): 80.0%\n  Visually depleted: true\n✓ PASSED: Depletion and regeneration workflow\n\nRunning: Inventory capacity limits during gathering\n  Testing gathering with limited inventory capacity...\n    Attempt 1: Gathered 2 Berries! (2/10)\n    Attempt 2: You search around but find nothing useful. (2/10)\n    Attempt 3: Gathered 1 Wood! (3/10)\n    Attempt 4: You search around but find nothing useful. (3/10)\n    Attempt 5: You search around but find nothing useful. (3/10)\n    Attempt 6: Gathered 1 Berries! (4/10)\n    Attempt 7: Gathered 2 Wood! (6/10)\n    Attempt 8: Gathered 1 Wood! (7/10)\n    Attempt 9: You search around but find nothing useful. (7/10)\n    Attempt 10: You search around but find nothing useful. (7/10)\n    Attempt 11: You search around but find nothing useful. (7/10)\n    Attempt 12: You search around but find nothing useful. (7/10)\n    Attempt 13: You search around but find nothing useful. (7/10)\n    Attempt 14: You search around but find nothing useful. (7/10)\n    Attempt 15: Gathered 2 Wood! (9/10)\n    Attempt 16: You search around but find nothing useful. (9/10)\n    Attempt 17: You search around but find nothing useful. (9/10)\n    Attempt 18: You search around but find nothing useful. (9/10)\n    Attempt 19: You search around but find nothing useful. (9/10)\n    Attempt 20: You search around but find nothing useful. (9/10)\n    Attempt 21: You search around but find nothing useful. (9/10)\n    Attempt 22: You search around but find nothing useful. (9/10)\n    Attempt 23: Gathered 1 Berries! (10/10)\n    Attempt 24: You search around but find nothing useful. (10/10)\n    Attempt 25: You search around but find nothing useful. (10/10)\n    Attempt 26: You search around but find nothing useful. (10/10)\n    Attempt 27: You search around but find nothing useful. (10/10)\n    Attempt 28: You search around but find nothing useful. (10/10)\n    Attempt 29: You search around but find nothing useful. (10/10)\n    Attempt 30: You search around but find nothing useful. (10/10)\n    Attempt 31: You search around but find nothing useful. (10/10)\n    Attempt 32: You search around but find nothing useful. (10/10)\n    Attempt 33: You search around but find nothing useful. (10/10)\n    Attempt 34: Inventory full! Cannot gather more resources. (10/10)\n    Inventory capacity limit reached\n✓ PASSED: Inventory capacity limits during gathering\n\nRunning: Cross-platform consistency\n  Testing deterministic behavior with same seed...\n    Position (0, 0): Success - Gathered 2 Berries!\n    Position (1, 1): Success - Gathered 1 Berries!\n    Position (2, 2): Success - Gathered 3 Reeds!\n    Position (3, 3): Success - Gathered 2 Sand!\n    Position (4, 4): Success - Gathered 3 Wood!\n  ✓ Cross-platform consistency verified\n✓ PASSED: Cross-platform consistency\n\nRunning: Save/load integration\n  Testing save/load functionality...\n  Saved inventory data: 301 characters\n  Saved resource data: 1263 characters\nResourceManager: Restored 10 location states\n  ✓ Save/load integration verified\n✓ PASSED: Save/load integration\n\nRunning: Performance with large-scale operations\n  Testing performance with large-scale operations...\n  Performed 1000 gather operations in 2ms\n  Successful gathers: 450\n  Average time per operation: 0.00ms\n  Final inventory size: 611 items\n  Location states tracked: 98\n  Cleanup completed in 0ms\n✓ PASSED: Performance with large-scale operations\n\nRunning: Error handling and edge cases\n  Testing error handling and edge cases...\n    Null coordinates: Nothing to gather here\n    Negative coordinates: Nothing to gather here\n    Large coordinates: Nothing to gather here\n    Null inventory handled with exception: Cannot read properties of null (reading 'hasSpace')\n    Corrupted inventory handled with exception: Cannot read properties of null (reading 'get')\n    Corrupted map data: Invalid location\n  ✓ Error handling verified\n✓ PASSED: Error handling and edge cases\n\n=== Integration Test Results ===\nTests passed: 8/8\nSuccess rate: 100.0%\n✓ All resource gathering integration tests passed!\n"
    },
    {
      "name": "Biome Resource Mapping Tests",
      "status": "PASSED",
      "duration": 39,
      "critical": true,
      "output": "=== Biome Resource Mapping Validation Tests ===\n\nRunning: Biome resource definitions validation\n  Validating forest biome...\n    ✓ forest: wood, berries\n  Validating desert biome...\n    ✓ desert: stone, sand\n  Validating mountain biome...\n    ✓ mountain: stone, ore\n  Validating beach biome...\n    ✓ beach: wood, sand\n  Validating jungle biome...\n    ✓ jungle: wood, berries\n  Validating savanna biome...\n    ✓ savanna: hay, wood\n  Validating taiga biome...\n    ✓ taiga: wood, berries\n  Validating tropical biome...\n    ✓ tropical: wood, berries\n  Validating swamp biome...\n    ✓ swamp: reeds, berries\n✓ PASSED: Biome resource definitions validation\n\nRunning: Resource weight distributions\n  Analyzing forest resource weights...\n    wood: 60 (60.0%)\n    berries: 40 (40.0%)\n  Analyzing desert resource weights...\n    stone: 60 (60.0%)\n    sand: 40 (40.0%)\n  Analyzing mountain resource weights...\n    stone: 50 (50.0%)\n    ore: 50 (50.0%)\n  Analyzing beach resource weights...\n    wood: 50 (50.0%)\n    sand: 50 (50.0%)\n  Analyzing jungle resource weights...\n    wood: 60 (60.0%)\n    berries: 40 (40.0%)\n  Analyzing savanna resource weights...\n    hay: 60 (60.0%)\n    wood: 40 (40.0%)\n  Analyzing taiga resource weights...\n    wood: 60 (60.0%)\n    berries: 40 (40.0%)\n  Analyzing tropical resource weights...\n    wood: 60 (60.0%)\n    berries: 40 (40.0%)\n  Analyzing swamp resource weights...\n    reeds: 60 (60.0%)\n    berries: 40 (40.0%)\n✓ PASSED: Resource weight distributions\n\nRunning: Base quantity ranges validation\n  Validating forest quantity ranges...\n    wood: 1-3\n    berries: 1-2\n  Validating desert quantity ranges...\n    stone: 1-2\n    sand: 1-3\n  Validating mountain quantity ranges...\n    stone: 1-2\n    ore: 1-1\n  Validating beach quantity ranges...\n    wood: 1-2\n    sand: 1-3\n  Validating jungle quantity ranges...\n    wood: 1-3\n    berries: 1-2\n  Validating savanna quantity ranges...\n    hay: 1-3\n    wood: 1-2\n  Validating taiga quantity ranges...\n    wood: 1-3\n    berries: 1-2\n  Validating tropical quantity ranges...\n    wood: 1-3\n    berries: 1-2\n  Validating swamp quantity ranges...\n    reeds: 1-3\n    berries: 1-2\n✓ PASSED: Base quantity ranges validation\n\nRunning: Biome success rates and depletion parameters\n  Validating forest parameters...\n    Success rate: 70.0%\n    Depletion rate: 10.0%\n    Regeneration: 5.0 minutes\n  Validating desert parameters...\n    Success rate: 60.0%\n    Depletion rate: 15.0%\n    Regeneration: 10.0 minutes\n  Validating mountain parameters...\n    Success rate: 50.0%\n    Depletion rate: 20.0%\n    Regeneration: 15.0 minutes\n  Validating beach parameters...\n    Success rate: 65.0%\n    Depletion rate: 12.0%\n    Regeneration: 7.5 minutes\n  Validating jungle parameters...\n    Success rate: 75.0%\n    Depletion rate: 8.0%\n    Regeneration: 4.0 minutes\n  Validating savanna parameters...\n    Success rate: 70.0%\n    Depletion rate: 10.0%\n    Regeneration: 6.0 minutes\n  Validating taiga parameters...\n    Success rate: 65.0%\n    Depletion rate: 12.0%\n    Regeneration: 7.0 minutes\n  Validating tropical parameters...\n    Success rate: 80.0%\n    Depletion rate: 7.0%\n    Regeneration: 3.0 minutes\n  Validating swamp parameters...\n    Success rate: 60.0%\n    Depletion rate: 15.0%\n    Regeneration: 9.0 minutes\n✓ PASSED: Biome success rates and depletion parameters\n\nRunning: Glyph distribution mappings\n  Validating forest glyph distribution...\n    wood: 45 (45.0%)\n    berries: 25 (25.0%)\n    biome_fallback: 30 (30.0%)\n  Validating desert glyph distribution...\n    stone: 40 (40.0%)\n    sand: 35 (35.0%)\n    biome_fallback: 25 (25.0%)\n  Validating mountain glyph distribution...\n    stone: 35 (35.0%)\n    ore: 25 (25.0%)\n    biome_fallback: 40 (40.0%)\n  Validating beach glyph distribution...\n    wood: 30 (30.0%)\n    sand: 40 (40.0%)\n    biome_fallback: 30 (30.0%)\n  Validating jungle glyph distribution...\n    wood: 40 (40.0%)\n    berries: 30 (30.0%)\n    biome_fallback: 30 (30.0%)\n  Validating savanna glyph distribution...\n    hay: 45 (45.0%)\n    wood: 25 (25.0%)\n    biome_fallback: 30 (30.0%)\n  Validating taiga glyph distribution...\n    wood: 45 (45.0%)\n    berries: 25 (25.0%)\n    biome_fallback: 30 (30.0%)\n  Validating tropical glyph distribution...\n    wood: 40 (40.0%)\n    berries: 30 (30.0%)\n    biome_fallback: 30 (30.0%)\n  Validating swamp glyph distribution...\n    reeds: 45 (45.0%)\n    berries: 25 (25.0%)\n    biome_fallback: 30 (30.0%)\n✓ PASSED: Glyph distribution mappings\n\nRunning: Resource type definitions completeness\n  Found resource types: wood, berries, stone, sand, ore, hay, reeds\n  Validating wood definition...\n    ✓ Wood: 🌳/♠ (#27ae60)\n  Validating berries definition...\n    ✓ Berries: 🫐/* (#e74c3c)\n  Validating stone definition...\n    ✓ Stone: 🪨/◆ (#7f8c8d)\n  Validating sand definition...\n    ✓ Sand: 🏖️/∴ (#f39c12)\n  Validating ore definition...\n    ✓ Ore: ⛏️/▲ (#34495e)\n  Validating hay definition...\n    ✓ Hay: 🌾/\" (#f1c40f)\n  Validating reeds definition...\n    ✓ Reeds: 🌿/| (#16a085)\n✓ PASSED: Resource type definitions completeness\n\nRunning: Resource selection probability distribution\n  Testing forest resource selection distribution...\n    wood: expected 60.0%, got 89.6% (896/1000)\n    berries: expected 40.0%, got 10.4% (104/1000)\n  Testing desert resource selection distribution...\n    stone: expected 60.0%, got 60.2% (602/1000)\n    sand: expected 40.0%, got 39.8% (398/1000)\n  Testing mountain resource selection distribution...\n    stone: expected 50.0%, got 51.3% (513/1000)\n    ore: expected 50.0%, got 48.7% (487/1000)\n✓ PASSED: Resource selection probability distribution\n\nRunning: Biome configuration consistency\n  Checking biome configuration consistency...\n  Success rate range: 50.0% - 80.0%\n  Depletion rate range: 7.0% - 20.0%\n  Regeneration time range: 3.0 - 15.0 minutes\n✓ PASSED: Biome configuration consistency\n\nRunning: Ocean biome handling\n  Testing ocean biome (should have no resources)...\n  ✓ Ocean and invalid biomes properly handled\n✓ PASSED: Ocean biome handling\n\n=== Biome Resource Mapping Test Results ===\nTests passed: 9/9\nSuccess rate: 100.0%\n✓ All biome resource mapping tests passed!\n✓ Biome-resource mappings are accurate and complete\n"
    },
    {
      "name": "Performance and Stress Tests",
      "status": "FAILED",
      "duration": 93,
      "critical": false,
      "error": "Command failed: node test-performance-stress.js",
      "stdout": "=== Performance and Stress Tests ===\n\nRunning: Large inventory performance\n  Testing inventory with 1000+ different resource types...\n  Added 1000 resource types in 8.06ms\n  Average add time: 0.0081ms\n  Add operations per second: 124084\n✗ FAILED: Large inventory performance\n  Error: Should have 1000 resource types\n\nRunning: Many location states performance\n  Testing resource manager with 10000+ location states...\n  Performed 10000 gather operations in 12.57ms\n  Average gather time: 0.0013ms\n  Gather operations per second: 795740\n  Location states created: 10000\n  Retrieved location states 10000 times in 1.46ms\n  Average get state time: 0.0001ms\n  Cleanup completed in 1ms\n  Location states after cleanup: 10000\n  Serialized location states in 8ms\n  Serialized data size: 1128988 characters\n✓ PASSED: Many location states performance (23ms)\n\nRunning: Rapid gathering operations stress test\n  Testing rapid gathering operations...\n  Performed 5000 rapid gathers in 5.85ms\n  Average gather time: 0.0012ms\n  Successful gathers: 2187\n  Failed gathers: 2813\n  Success rate: 43.7%\n  Final inventory: 3103 items, 0 types\n✓ PASSED: Rapid gathering operations stress test (6ms)\n\nRunning: Memory usage with large datasets\n  Testing memory usage patterns...\n  Initial memory usage: 8.11 MB\n  Memory after operations: 14.84 MB\n  Memory increase: 6.74 MB\n  Location states: 5000\n  Active locations: 2207\n  Memory estimate: 488.28 KB\n✓ PASSED: Memory usage with large datasets (16ms)\n\nRunning: Concurrent operations simulation\n  Simulating concurrent operations...\n  Simulated 2000 concurrent operations in 1.31ms\n  Average operation time: 0.0007ms\n    Player 0: 39/200 successes (52 items)\n    Player 1: 36/200 successes (45 items)\n    Player 2: 32/200 successes (43 items)\n    Player 3: 33/200 successes (42 items)\n    Player 4: 38/200 successes (56 items)\n    Player 5: 40/200 successes (57 items)\n    Player 6: 46/200 successes (67 items)\n    Player 7: 35/200 successes (46 items)\n    Player 8: 47/200 successes (69 items)\n    Player 9: 46/200 successes (58 items)\n  Total: 392/2000 successes\n  Overall success rate: 19.6%\n  Final location states: 50\n✓ PASSED: Concurrent operations simulation (2ms)\n\nRunning: Edge case performance\n  Testing performance with edge cases...\n  Tiny inventory operations: 0.0005ms average\n  Zero capacity operations: 0.0005ms average\n  Same location operations: 0.0002ms average\n  Extreme coordinate operations: 0.0008ms average\n✓ PASSED: Edge case performance (1ms)\n\nRunning: Cleanup system performance\n  Testing cleanup system performance...\n  Created 500 location states\nResourceManager: Cleaned up 400 old location states\n  Cleanup operations: 0.04ms average\n  Location states after cleanup: 100\n  Optimization operations: 0.02ms average\n✓ PASSED: Cleanup system performance (1ms)\n\n=== Performance Test Results ===\nTests passed: 6/7\nSuccess rate: 85.7%\n✗ Some performance tests failed. Check output above for details.\n",
      "stderr": ""
    }
  ],
  "system": {
    "nodeVersion": "v23.6.0",
    "platform": "darwin",
    "architecture": "arm64",
    "memoryUsage": {
      "rss": 39108608,
      "heapTotal": 5816320,
      "heapUsed": 4676488,
      "external": 1571805,
      "arrayBuffers": 31437
    }
  }
}